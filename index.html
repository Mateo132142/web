<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Figuras Geométricas Flotantes y Movibles en 360 Grados con Fondo Negro</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <style>
      body {
        margin: 0;
        overflow: hidden;
      }
    </style>
  </head>
  <body>
    <a-scene>
      <!-- Cámara y controles -->
      <a-camera position="0 1.6 0">
        <!-- Componente para habilitar el cursor en el modo escritorio -->
        <a-cursor></a-cursor>
      </a-camera>

      <!-- Entorno 360 grados con fondo negro -->
      <a-sky color="#000000"></a-sky>

      <!-- Luces -->
      <a-light type="ambient" color="#888888"></a-light> <!-- Luz ambiental suave -->
      <a-light type="directional" position="2 4 3" color="#CCCCCC"></a-light> <!-- Luz direccional suave -->

      <!-- Figuras geométricas flotantes y moviéndose verticalmente -->
      <a-box position="0 2 -5" rotation="0 45 0" color="#90CAF9"
             animation="property: position; to: 0 -2 -5; dir: alternate; dur: 4000; loop: true"
             draggable></a-box>
      <a-sphere position="4 2 -5" radius="1.25" color="#FFAB91"
                animation="property: position; to: 4 -2 -5; dir: alternate; dur: 5000; loop: true"
                draggable></a-sphere>
      <a-cylinder position="-4 2 -5" radius="0.5" height="2" color="#FFF59D"
                  animation="property: position; to: -4 -2 -5; dir: alternate; dur: 3000; loop: true"
                  draggable></a-cylinder>
      <a-cone position="0 2 5" radius-bottom="1" radius-top="0" height="2" color="#C5E1A5"
              animation="property: position; to: 0 -2 5; dir: alternate; dur: 3500; loop: true"
              draggable></a-cone>

      <!-- Más figuras geométricas flotantes y moviéndose verticalmente -->
      <a-box position="3 1 -7" rotation="0 30 0" color="#FF8A65"
             animation="property: position; to: 3 -3 -7; dir: alternate; dur: 4500; loop: true"
             draggable></a-box>
      <a-sphere position="-3 1 -7" radius="0.75" color="#64B5F6"
                animation="property: position; to: -3 -3 -7; dir: alternate; dur: 5500; loop: true"
                draggable></a-sphere>
      <a-cylinder position="0 1 -10" radius="0.5" height="3" color="#A5D6A7"
                  animation="property: position; to: 0 -3 -10; dir: alternate; dur: 3200; loop: true"
                  draggable></a-cylinder>
      <a-cone position="5 1 -10" radius-bottom="1" radius-top="0" height="2.5" color="#FFE082"
              animation="property: position; to: 5 -3 -10; dir: alternate; dur: 3700; loop: true"
              draggable></a-cone>

      <!-- Figuras adicionales giratorias y flotantes -->
      <a-torus position="0 3 -3" radius="1" radius-tubular="0.1" color="#D1C4E9"
               animation="property: position; to: 0 1 -3; dir: alternate; dur: 6000; loop: true"
               draggable></a-torus>
      <a-ring position="0 1 -8" radius="1.5" radius-inner="0.5" color="#F48FB1"
              animation="property: position; to: 0 -1 -8; dir: alternate; dur: 5000; loop: true"
              draggable></a-ring>
      <a-dodecahedron position="-5 2 -8" radius="1" color="#B9FBC0"
                      animation="property: position; to: -5 -2 -8; dir: alternate; dur: 5500; loop: true"
                      draggable></a-dodecahedron>
      <a-icosahedron position="5 2 -8" radius="1" color="#FFAB40"
                     animation="property: position; to: 5 -2 -8; dir: alternate; dur: 5200; loop: true"
                     draggable></a-icosahedron>

      <!-- Script para permitir movimiento de figuras -->
      <script>
        AFRAME.registerComponent('draggable', {
          schema: {default: false},
          init: function () {
            var el = this.el;
            var isDragging = false;
            var offset = new THREE.Vector3();
            var intersection = new THREE.Vector3();
            
            el.addEventListener('mousedown', function (evt) {
              isDragging = true;
              var mouse = new THREE.Vector2();
              var raycaster = new THREE.Raycaster();
              var camera = el.sceneEl.camera;
              
              mouse.x = (evt.clientX / window.innerWidth) * 2 - 1;
              mouse.y = - (evt.clientY / window.innerHeight) * 2 + 1;
              raycaster.setFromCamera(mouse, camera);
              var intersects = raycaster.intersectObject(el.object3D.parent, true);

              if (intersects.length > 0) {
                intersection.copy(intersects[0].point);
                offset.copy(intersection).sub(el.object3D.position);
              }
              el.emit('start-drag');
            });

            window.addEventListener('mousemove', function (evt) {
              if (isDragging) {
                var mouse = new THREE.Vector2();
                var raycaster = new THREE.Raycaster();
                var camera = el.sceneEl.camera;
                
                mouse.x = (evt.clientX / window.innerWidth) * 2 - 1;
                mouse.y = - (evt.clientY / window.innerHeight) * 2 + 1;
                raycaster.setFromCamera(mouse, camera);
                var intersects = raycaster.intersectObject(el.object3D.parent, true);

                if (intersects.length > 0) {
                  intersection.copy(intersects[0].point);
                  el.object3D.position.copy(intersection.sub(offset));
                }
              }
            });

            window.addEventListener('mouseup', function (evt) {
              if (isDragging) {
                isDragging = false;
                el.emit('end-drag');
              }
            });
          }
        });
      </script>
    </a-scene>
  </body>
</html>